<html>
<head>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
	<script async src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
	
	<link rel="stylesheet" href="res/magnify.css">
	<script async src="res/magnify.js"></script>

<title>O-CXR</title>
<script src="res/tf.js"></script>
<script src="res/js-colormaps.js"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131584004-1', 'mlmed.org');
  ga('send', 'pageview');
</script>
	

</head>


<style>
.pred-container {
    margin-bottom: 20px;
  }

  .pred-container > div {
    display: inline-block;
    margin-right: 20px;
    vertical-align: top;
  }

  .row {
    display: table-row;
  }
  .cell {
    display: table-cell;
    padding-right: 20px;
  }

  #file-container {
    margin-bottom: 20px;
  }
  
.nopadding {
   padding: 0 !important;
   margin: 0 !important;
}
  </style>


<script>




</script>

<body>
	<div class="container" style="width: 100%">

		<div class="row">
			<div class="alert alert-warning" role="alert" style="width: 100%">
				<center>
					NOT FOR MEDICAL USE. This is a prototype system for diagnosing
					chest x-rays using neural networks. All processing is done on your
					device and images are not sent to the server. If you continue you
					assume all liability when using the system. A neural network model
					(~150mb) will be downloaded to your browser.
					<button id="agree" type="button" class="btn btn-danger">Accept
						and continue</button>
				</center>
			</div>


			<section>
				By Joseph Paul Cohen, Paul Bertin, and Vincent Frappier 2018
				<p class="section-head"></p>
			</section>
<center><div id="status"></div></center>
			<section>
				<div id="file-container" style="display: none">
					Process an image locally: <input type="file" id="files" name="files[]" multiple=""> <a target="_blank" href="examples/">Download example files</a>
				</div>
			</section>

		</div>
		
<div id="predictions">

	<div id="predtemplate" style="width:100%;display:none">
		<div class="col-xs-12" style="background-color:lightgray;margin-bottom: 10px">
		<center><span class="imagename">&nbsp;</span></center>
		</div>
		<div class="col-xs-12" style="padding:0px;margin-bottom: 10px">
		<div class="col-xs-3 ">
			<center style="">Input Image</center></div>
		<div class="col-xs-3 ">
			<center style="">Out Of Distribution reconstruction error
			<br><span style="font-size: x-small">Heatmap where the image varies from the training distribution.</span>
			</center></div>
		<div class="col-xs-3 ">
			<center style="">Predictive image regions
			<br><span style="font-size: x-small">Heatmap of image regions which influence the prediction.</span>
			</center></div>
		<div class="col-xs-3 ">
			<center style=""><b>Disease Predictions</b>
			<br><span style="font-size: x-small">Probability of a disease.</span>
			</center>
		</div>
		</div>
		
		<div class="col-xs-12"  style="padding:0px;">
		<div class="col-xs-3 imgviz">
				<canvas class="inputimage"
				style="width:100%;height:auto;position:relative;top:0px;left:0px;image-rendering:pixelated"></canvas>
			<br>
		</div>
		<div class="col-xs-3 oodviz">
			<center class="loading"><img style="margin-top:40%;" alt="Loading..." src="https://i.imgur.com/yoS0cXm.gif"/></center>
			
			<div class="oodimagebox" style="position:relative;display:none">
				<canvas class="inputimage" 
				style="width:100%;height:auto;position:relative;top:0px;left:0px;image-rendering:pixelated"></canvas>
			
				<canvas class="oodimage" 
				style="width:100%;height:auto;position:absolute;top:0px;left:0px;opacity: 0.5;image-rendering:pixelated"></canvas>
			</div>
			<br>
			
		</div>
		<div class="col-xs-3 gradviz">
			<center><button style="margin-top:40%;display:none" type="button" class="computegrads btn btn-danger">
			Compute image regions
			</button></center>
			<center class="loading" style="display:none;"><img style="margin-top:40%;" alt="Loading..." src="https://i.imgur.com/yoS0cXm.gif"/></center>
			
			<div class="gradimagebox" style="position:relative;display:none">
				<canvas class="inputimage" 
				style="width:100%;height:auto;position:relative;top:0px;left:0px;image-rendering:pixelated"></canvas>
			
				<canvas class="gradimage" 
				style="width:100%;height:auto;position:absolute;top:0px;left:0px;opacity: 0.5;image-rendering:pixelated"></canvas>
			</div>
			<br>
			
		</div>
		<div class="col-xs-3 predviz">
		<center class="loading"><img style="margin-top:40%;" alt="Loading..." src="https://i.imgur.com/yoS0cXm.gif"/></center>
		
		<center>
		<div class="predbox" style="width:100%">

		</div>
		</center>
		</div>
		</div>
		<hr>
	</div>


</div>	
<img id="cat" src="examples/00000001_001-Cardiomegaly-Emphysema.png" style="display:none">
		
	</div>
</body>

<canvas id="zoom" width="100" height="50" style="width:400px; height:200px;position:absolute; top:0; left:0; display:none;image-rendering:pixelated"></canvas>

<script src="system.js?v=1.6"></script>

</html>